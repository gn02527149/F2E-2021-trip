{"version":3,"sources":["Component/Common/TopNavigation/TopNavigation.js","Component/Common/Footer/Footer.js","controller/apiManager.js","assets/images/view/unsplash_5Lw1U5BIumE.png","assets/images/other/unsplash_gdTxVSAE5sk.png","assets/images/other/unsplash_8fb3UBhNqc8.png","assets/images/other/unsplash_AlSlE8IAjZo.png","assets/images/other/unsplash_Wj1D-qiOseE.png","Component/Common/Header/HeaderSearch.js","assets/images/icons/bx_bx-search-alt.png","Router/Homepage/Homepage.js","assets/images/icons/Vector.png","assets/images/icons/bx_bx-time.png","Router/Homepage/index.js","Component/Common/Breadcrumb/Breadcrumb.js","Router/SearchResult/index.js","Router/SearchResult/SearchResult.js","Router/ViewDetail/index.js","Component/App.js","index.js"],"names":["TopNavigation","useHistory","useState","id","className","to","Footer","apiRoot","getAuthorizationHeader","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","Authorization","getHMAC","requestAPI","path","param","fetch","qs","stringify","method","headers","then","response","a","ok","json","msg","Message","data","requesScenicSpot","city","ScenicSpotPath","HeaderSearch","history","searchKind","setSearchKind","searchCity","useEffect","value","onChange","e","target","onClick","push","src","alt","Homepage","sliderData","setSliderData","hotList","setHotList","navigator","geolocation","getCurrentPosition","coords","$top","$select","$spatialFilter","latitude","longitude","$filter","nearby","console","log","City","Address","substr","$orderby","$format","$skip","Math","floor","random","needRedirect","length","map","Picture","PictureUrl1","defaultCardPicture","Name","OpenTime","ID","yearPhoto","artPhoto","galaPhoto","otherPhoto","Separator","SearchResult","useParams","loc","useLocation","parse","search","substring","setSearchCity","searchKeyword","setSearchKeyword","setSearchResult","isLoading","setLoading","placeholder","ViewDetail","App","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dafb6ff9.chunk.js","sourcesContent":["import React, { useCallback, useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\n\n\nimport \"./TopNavigation.scss\";\nimport { Link } from \"react-router-dom\";\n\nconst TopNavigation = () => {\n  const history = useHistory();\n  const [isMenuVisible, setMenuVisible] = useState(false);\n\n  return (\n    <div id=\"top-navigation\">\n      <div className=\"inner-container\">\n        <div className=\"logoBox\">\n          <div className=\"logo\"></div>\n          <p>Travel Taiwan</p>\n        </div>\n        <ul>\n          <Link className=\"select\" to=\"/F2E-2021-trip/\">首頁</Link>\n          <Link to={`/F2E-2021-trip/:searchKind/search-result`}>\n            景點導覽\n          </Link>\n          <Link className=\"not-allowed\" to=\"/\">\n            觀光活動\n          </Link>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default TopNavigation;\n","import React from \"react\";\n\n\nimport \"./Footer.scss\";\n\nconst Footer = () => {\n  return (\n    <div id=\"footer\">\n      <div className=\"inner-container\">\n        <span className=\"copyright\">#The F2E 3rd Week01 Design_#Tracy | FE_#Ruby </span>\n      </div>\n    </div>\n  );\n};\n\nexport default Footer;\n","import jsSHA from \"jssha\";\nimport qs from \"querystring\";\n\nconst apiRoot = \"https://ptx.transportdata.tw/MOTC/\";\nconst VERSION = \"/v2\";\n\nconst getAuthorizationHeader = () => {\n  let AppID = \"7a376b59e20f4432ac089f1fa355b119\";\n  let AppKey = \"mPqGsiqokJLEiYoiFKP7eN2nWxw\";\n  let GMTString = new Date().toGMTString();\n  let ShaObj = new jsSHA(\"SHA-1\", \"TEXT\");\n  ShaObj.setHMACKey(AppKey, \"TEXT\");\n  ShaObj.update(\"x-date: \" + GMTString);\n  let HMAC = ShaObj.getHMAC(\"B64\");\n  let Authorization =\n    'hmac username=\"' +\n    AppID +\n    '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' +\n    HMAC +\n    '\"';\n  return { Authorization: Authorization, \"X-Date\": GMTString };\n};\n\nconst requestAPI = (path = \"\", param = {}) => {\n  return fetch(`${apiRoot}${VERSION}${path}?${qs.stringify(param)}`, {\n    method: \"GET\",\n    headers: getAuthorizationHeader(),\n  })\n    .then(async (response) => {\n      if (!response.ok) {\n        const errorMsg = await response.json().then((msg) => msg.Message);\n        // alert\n        throw errorMsg;\n      }\n      return response.json();\n    })\n    .then((data) => data);\n};\n\nexport default requestAPI;\n\nexport const requesScenicSpot = (city, param) => {\n  const ScenicSpotPath = \"/Tourism/ScenicSpot\";\n\n  if (!city) {\n    return requestAPI(ScenicSpotPath, param);\n  }\n  return requestAPI(`${ScenicSpotPath}/${city}`, param);\n};\n","export default __webpack_public_path__ + \"static/media/unsplash_5Lw1U5BIumE.5e889f92.png\";","export default __webpack_public_path__ + \"static/media/unsplash_gdTxVSAE5sk.a043c234.png\";","export default __webpack_public_path__ + \"static/media/unsplash_8fb3UBhNqc8.b9633a39.png\";","export default __webpack_public_path__ + \"static/media/unsplash_AlSlE8IAjZo.c6e62768.png\";","export default __webpack_public_path__ + \"static/media/unsplash_Wj1D-qiOseE.288bb36d.png\";","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport qs from \"querystring\";\n\n// import RoomIcon from \"@mui/icons-material/Room\";\n// import SearchIcon from \"@mui/icons-material/Search\";\nimport searchIcon from \"../../../assets/images/icons/bx_bx-search-alt.png\";\n\nimport requestAPI, { requesScenicSpot } from \"../../../controller/apiManager\";\n\nimport \"./HeaderSearch.scss\";\n\nconst HeaderSearch = () => {\n  const history = useHistory();\n  const [searchKind, setSearchKind] = useState(\"探索景點\");\n  const [searchCity, setSearchCity] = useState();\n\n  useEffect(async () => {\n    // const data = await requesScenicSpot(\"Taipei\", {\n    //   $top: 8,\n    //   $filter: \"contains(Address, '中正區')\",\n    // });\n    // console.log(data);\n  }, []);\n\n  const handleSearch = () => {\n    history.push(\n      `/F2E-2021-trip/scenic-spot/search-result?${qs.stringify({\n        searchKind,\n        searchCity,\n      })}`\n    );\n  };\n\n  return (\n    <div className=\"header-search\">\n      <div className=\"inner-container\">\n        <div className=\"sloganBox\">\n          <p className=\"slogan\">\n            Welcome to Travel Taiwan\n          </p>\n        </div>\n        <div className=\"searchBox\">\n          <select\n            className=\"search-kind\"\n            value={searchKind}\n            onChange={(e) => setSearchKind(e.target.value)}\n          >\n            <option>類別</option>\n            <option>所有類別</option>\n            <option>自然風景</option>\n            <option>體育健身</option>\n            <option>遊憩類</option>\n            <option>古蹟類</option>\n          </select>\n          <select\n            className=\"search-city\"\n            value={searchCity}\n            onChange={(e) => setSearchKind(e.target.value)}\n          >\n            <option>所有縣市</option>\n            <option>台 北 市</option>\n            <option>新 北 市</option>\n            <option>桃 園 市</option>\n            <option>台 中 市</option>\n            <option>台 南 市</option>\n            <option>高 雄 市</option>\n            <option>基 隆 市</option>\n            <option>新 竹 市</option>\n            <option>新 竹 縣</option>\n            <option>苗 栗 縣</option>\n            <option>彰 化 縣</option>\n            <option>南 投 縣</option>\n            <option>雲 林 縣</option>\n            <option>嘉 義 縣</option>\n            <option>嘉 義 市</option>\n            <option>屏 東 縣</option>\n            <option>宜 蘭 縣</option>\n            <option>花 蓮 縣</option>\n            <option>金 門 縣</option>\n            <option>澎 湖 縣</option>\n            <option>連 江 縣</option>\n          </select>\n          <div className=\"search-button\" onClick={handleSearch}>\n            <img src={searchIcon} alt=\"search\"></img>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HeaderSearch;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQFSURBVHgB1ZlLaBNbGMf/Z5qYFHOviXBbeq/Yx6LCvdf2ohfswohVRLqoDwRFMIILu1Jwb6EtqAt1oagbEVxUFETwtfCN0m4qKDT1gQ9saxTFCia1LUlt7Xj+p5lxjH3MTLSMPwg5M+ck85/vfN93vpkjkEOw9cpy4fet1cfEOkAvwwwigE5diE5kRloy2+p6c/rGCZ88H04HQk3yxC54AF3DocK0ryW1rTbFYyWUIocDods68B88BC0cGPbVUqzGE7Sk10QSakoXjjaxLYInr5Qh4OuBl/k8Wqsh6G+CxxEFBes0Xdc9N+W56NDWasKDvvk9epmGXwQf8iBaFMHW8hJEi+eidHZQnUuNjKIrOYDLr9/LTx9eDmXwIxDB0zd0OIQCGxdWYJn8no4jzxLY19Ujb2AE+eBYaOO/FdgtRVpp60siMZhW7Tmz/KiK/GZamNCqq2/dy8u6joTmijz6NIG9D7rVdOdCax+v+ccUnK9Y20J5wSdrlqo2hW1qiytLbin/E7GKEmXFsN8n/XMQ8dRHdQMUdWBRJXYsmK9+x/Grb92HG2wLpUjDOkuudihBZ6PVqJ/3x4TjKXJje1wFlnVcQ8djtPa8gVNspSdOoyGytfutEkn2PHwx4bQTjr++YrG0sh/b7z4yx22R1neDLaHWP98rxRlQMP2O01xy7g4Kz9xUU2v44ZxZPunT5ej/NIpT3eNWtN70DxdaLf2P0Mdyg4Fi9zz8GlAc09DxyOyPSR8mzKsG0aK5cIqthF8VHhf6MpuCpoNi+SmdXaiOOf3x1IDZ78aiea1MU+E2uifD1tRPFjBOqA6HzHa/i/+zJZQphqyZVwS3LIz8brbjyQE4xZbQ9ndJ9c0ojtpY3ycils0czADtfUk4xZZQFhbG9B9ctABO4eplFDCXLNHvBFtCaYVjTxKqXRUJYf/iStiFEd6YrQ94s9Y87ATbhTOtauTQnZXz1bI4XZqp/6sIHXU15rjLr97//KKE8ILXVv7/TUXU1vdBLasPZIDQYuxjQqdPTlSvcjFo7XkLpziuRymE5dsym0FF8bRkzLIMuxFb4NuwtdnJD5gDT8mLJKQ1S0NBFAcDmEzgieev0SALEmO8UUHVyzSXGEqjKzVo+7quHkWs0MKsRY1ltj/7zNSVdQUrXPeP1/xtHjuxbN5CneJW7Iw/LrNoZvFswCdYO/y0omQqjAo/Whz5piScihmferf8Mm9KpFDRC48jp7xTvs0buwiPI+R7fU2MiQvwPCMtWia26o6ui8PwKAL64czmul4VTMOfCprpB/AYUqTcbBhqZns86uWuw7DcffCSZWlJKVLuiKz/un1jJXhGbj7otLConvm30aJXYOyi/llcoEtae74A3m/MlkccdegAAAAASUVORK5CYII=\"","import React, { useEffect, useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\n\nimport defaultCardPicture from \"../../assets/images/view/unsplash_5Lw1U5BIumE.png\";\nimport LocationOnOutlinedIcon from \"../../assets/images/icons/Vector.png\";\nimport TimeIcon from \"../../assets/images/icons/bx_bx-time.png\";\nimport yearPhoto from \"../../assets/images/other/unsplash_gdTxVSAE5sk.png\";\nimport artPhoto from \"../../assets/images/other/unsplash_8fb3UBhNqc8.png\";\nimport galaPhoto from \"../../assets/images/other/unsplash_AlSlE8IAjZo.png\";\nimport otherPhoto from \"../../assets/images/other/unsplash_Wj1D-qiOseE.png\";\n\nimport { HeaderSearch } from \"../../Component/Common/Header\";\nimport { Slider } from \"../../Component/Common/Slider\";\nimport requestAPI, { requesScenicSpot } from \"../../controller/apiManager\";\n\nimport \"./Homepage.scss\";\n\nconst Homepage = () => {\n  const history = useHistory();\n  const [sliderData, setSliderData] = useState(false);\n  const [hotList, setHotList] = useState([]);\n\n  useEffect(async () => {\n    if (\"geolocation\" in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        async ({ coords }) => {\n          // console.log(coords, coords.longitude, coords.latitude);\n          const nearby = await requesScenicSpot(\"\", {\n            $top: 6,\n            $select: \"ID,City,Name,Picture,Position\",\n            $spatialFilter: `nearby(${coords.latitude},${coords.longitude},5000)`,\n            $filter: \"Picture/PictureUrl1 ne null\",\n          });\n          console.log(\"nearby me\", nearby);\n          nearby.City = nearby.City || nearby.Address?.substr(0, 3);\n          // setSliderData(nearby);\n        },\n        async () => {\n          setSliderData(false);\n        }\n      );\n    }\n\n    /* 取得該縣市其他景點資訊 */\n    const hotList = await requesScenicSpot(\"\", {\n      $filter: \"Picture/PictureUrl1 ne null\",\n      $orderby: \"Keyword desc\",\n      $format: \"JSON\",\n      $skip: Math.floor(Math.random() * (100 - 4 + 1) + 4),\n      $top: 8,\n    });\n    setHotList(hotList);\n  }, []);\n\n  return (\n    <>\n      <HeaderSearch />\n      {sliderData && <Slider sliderData={sliderData} needRedirect />}\n      <div className=\"homepage-container inner-container\">\n        {hotList.length > 0 && (\n          <>\n            <div className=\"container hot-container\">\n              <div className=\"title hot\">\n                <span>熱門景點</span>\n                <p>台灣的各個美景，都美不勝收。<br/> 等你一同來發現這座寶島的奧妙！</p>\n              </div>\n              <div className=\"card-container\">\n                {hotList.map((data) => (\n                  <div\n                    className=\"card\"\n                    key={data.ID}\n                    // onClick={() => history.push(`/scenic-spot/view/${data.ID}`)}\n                  >\n                    <div className=\"picture\"><img src={data.Picture.PictureUrl1 || defaultCardPicture} /></div>\n                    <p className=\"title\">{data.Name}</p>\n                    <div className=\"city-info\">\n                      <img className=\"icon\" src={LocationOnOutlinedIcon}/>\n                      <span>{data.Address || data.City}</span>\n                    </div>\n                    <div className=\"open-time\">\n                      <img className=\"icon\" src={TimeIcon}/>\n                      <span>{data.OpenTime == \"Sun 24 hours；Mon 24 hours；Tue 24 hours；Wed 24 hours；Thu 24 hours；Fri 24 hours；Sat 24 hours\"?\"全日開放\":data.OpenTime}</span>\n                    </div>\n                    <div className=\"more\">\n                      了解更多\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"container class-container\">\n              <div className=\"title class\">\n                <span>活動類別</span>\n                <p>各種不同的活動內容<br/> 邀請您一銅來共襄盛舉！</p>\n              </div>\n              <div className=\"card-container\">\n                  <div\n                    className=\"card\"\n                    // onClick={() => history.push(`/scenic-spot/view/${data.ID}`)}\n                  >\n                    <div className=\"picture\"><img src={yearPhoto} /></div>\n                    <p className=\"title\">年度活動</p>\n                  </div>\n                  <div\n                    className=\"card\"\n                    // onClick={() => history.push(`/scenic-spot/view/${data.ID}`)}\n                  >\n                    <div className=\"picture\"><img src={artPhoto} /></div>\n                    <p className=\"title\">藝文活動</p>\n                  </div>\n                  <div\n                    className=\"card\"\n                    // onClick={() => history.push(`/scenic-spot/view/${data.ID}`)}\n                  >\n                    <div className=\"picture\"><img src={galaPhoto} /></div>\n                    <p className=\"title\">節慶活動</p>\n                  </div>\n                  <div\n                    className=\"card\"\n                    // onClick={() => history.push(`/scenic-spot/view/${data.ID}`)}\n                  >\n                    <div className=\"picture\"><img src={otherPhoto} /></div>\n                    <p className=\"title\">其他</p>\n                  </div>\n              </div>\n            </div>\n          </>\n        )}\n              \n      </div>\n      <div className=\"footerSlogn\">\n        <p>“To travel is to live”<br/> – Hans Christian Anderson-</p>\n      </div>\n    </>\n  );\n};\n\nexport default Homepage;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAPCAYAAADQ4S5JAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE4SURBVHgBhVBBUsIwFH0/qMkCZzhCPYF6A7qQGXa6FMcpPQF4A7yBnKCwKFuXjuAM3IAeoUfoxjFVybfNFFoQ5S2S/Jf3XvI/oUAjeG5oVe8R45qBi5wjIGLmob5rjdY6yhcVvDiQx3OAHewFxUi/XO23Y7LJ8nT5t7g0qbR2KdLjercqJnAEZp8NHjI+Lg3s6JPP/pER8KgkY5m+u4l/k9gymI+k/J5T0ROo5olNkcthhhtxDt9NYDCuviKYsREICOfXz2t0XgYiEUSI1oQBeXZiBeyZ0Sz7Q0QqnHZBFOwEL4q9ucVmw7D9yslsWe1lPzjWndaZsE+t8hEeAK3cfLMGfX+1IPOPic2jvm3H1lflZfj2RMS9rWDw8KPT6pf1DtRkOspor4geZ//u4hBUOBuo8HWw7+4HLrB0myT2s3oAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGySURBVHgBtVNdTsJAEJ5Z/MHEB24gnkCOUE6gNwBfjeEnEQq+UB4UCiYsAZ/1CN7AHoEbUG5QnwC1O05bWytQwoNOst3N7My3X2e+Afgjw6SL65uOJgRoiHhCRDMFNBn3bl92BqrU7y8IUwM+ZvnaASBemOGdF9hKqfao33zeClSqmy1EMDjJQqS27Dat6IFGJ6sUGIiiACDk0KxVNwJVap0iCfHEQAygG5BgzLjiMVYE1VFPl2tAZd2cMhN7aDbycRZEYoqo8nF2Jb0rEbCAy/mplIbj+YT38Qrr1cT7HdjBxPLQ4C3jHhwVQ9+ef8Hd4c2Jvxo3V4kcPxYkfC4nUladct2cCKSzX0DgdwgcSGKAMICUTx4+Do+DWPS6KbKrQDav8zWERdrB9CIfdz3e6bPwTKDewrNfbC6qxkV9XS1qkoVNUKguR91AUz7f72SbKNWCHSyMSwFYoU9E1FgXHKKV6v2tYJ5oOa4Y6K1pR/krlA2mzIFoua7bHj/8/OZVrZfbF1D2QYCG0mxU4rnrs9Zghftgm2YNHSQenZiiE4FigBrPVjT9AsQE3udWqOR/sy8iz8OeIC7pYgAAAABJRU5ErkJggg==\"","import Homepage from \"./Homepage\";\n\nexport default Homepage;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./Breadcrumb.scss\";\n\nexport const Separator = () => <span className=\"separator\">/</span>;\n\nconst Breadcrumb = ({ data }) => {\n  return (\n    <>\n      <div className=\"breadcrumb\">\n        <Link to=\"/F2E-2021-trip\">首頁</Link>\n        <Separator />\n        <Link to=\"/F2E-2021-trip/scenic-spot/search-result\">探索景點</Link>\n        {data.City && (\n          <>\n            <Separator />\n            <Link to={`/F2E-2021-trip/scenic-spot/search-result?searchCity=${data.enCity}`}>\n              {data.City}\n            </Link>\n            <Separator />\n          </>\n        )}\n        {data.Name}\n      </div>\n    </>\n  );\n};\n\nexport default Breadcrumb;\n","import SearchResult from \"./SearchResult\";\n\nexport default SearchResult;\n","import React, { useEffect, useState } from \"react\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport qs from \"querystring\";\n\n// import SearchIcon from \"@mui/icons-material/Search\";\n// import LocationOnOutlinedIcon from \"@mui/icons-material/LocationOnOutlined\";\n// import defaultCardPicture from \"../../assets/image/default-card-picture.png\";\n// import noDataIcon from \"../../assets/image/no-data.png\";\n\nimport { CITY_OPTIONS } from \"../../constants/city\";\nimport requestAPI, { requesScenicSpot } from \"../../controller/apiManager\";\n\nimport \"./SearchResult.scss\";\nimport { Separator } from \"../../Component/Common/Breadcrumb\";\n\nconst SearchResult = () => {\n  const history = useHistory();\n  const { searchKind = \"scenic-spot\" } = useParams();\n  const loc = useLocation();\n  const [searchCity, setSearchCity] = useState(\n    qs.parse(loc.search.substring(1)).searchCity || \"\"\n  );\n  const [searchKeyword, setSearchKeyword] = useState(\n    qs.parse(loc.search).searchKeyword || \"\"\n  );\n  const [searchResult, setSearchResult] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(async () => {\n    if (searchKind === \"scenic-spot\") {\n      setLoading(true);\n      const data = await requesScenicSpot(searchCity, {\n        $filter: `contains(Name,'${searchKeyword}')`,\n        $top: 20,\n      });\n      setSearchResult(data);\n      setLoading(false);\n    }\n  }, [loc]);\n\n  const handleSearch = () => {\n    history.push(\n      `/F2E-2021-trip/scenic-spot/search-result?${qs.stringify({\n        searchCity,\n        searchKeyword,\n      })}`\n    );\n  };\n\n  return (\n    <>\n      <div className=\"search-result\">\n        {isLoading && <div className=\"mask\"></div>}\n        <div className=\"inner-container\">\n          <div className=\"breadcrumb\">\n            <Link to=\"/\">首頁</Link>\n            <Separator />\n            探索景點\n          </div>\n          <div className=\"search-bar\">\n            <select\n              className=\"search-kind\"\n              value={searchCity}\n              onChange={(e) => setSearchCity(e.target.value)}\n            >\n              <option value=\"\">全部縣市</option>\n              {/* {Object.keys(CITY_OPTIONS).map((cityKey) => (\n                <option key={cityKey} value={cityKey}>\n                  {CITY_OPTIONS[cityKey]}\n                </option>\n              ))} */}\n            </select>\n            <input\n              className=\"search-keyword\"\n              placeholder=\"你想去哪裡？請輸入關鍵字\"\n              value={searchKeyword}\n              onChange={(e) => setSearchKeyword(e.target.value)}\n            />\n            <div className=\"search-button\" onClick={handleSearch}>\n              {/* <SearchIcon className=\"icon\" /> */}\n              搜尋\n            </div>\n          </div>\n          <div className=\"show-result\">\n            <p className=\"result-text\">\n              搜尋結果{\" \"}\n              <span>\n                {/* 目前顯示<code>{searchResult.length}</code>筆 */}\n              </span>\n            </p>\n            {/* <div className=\"card-container\">\n              {searchResult.length > 0 &&\n                searchResult.map((data) => (\n                  <div\n                    className=\"card\"\n                    key={data.ID}\n                    onClick={() => history.push(`/scenic-spot/view/${data.ID}`)}\n                  >\n                    <img src={data.Picture.PictureUrl1 || defaultCardPicture} />\n                    <p className=\"title\">{data.Name}</p>\n                    <div className=\"city-info\">\n                      <LocationOnOutlinedIcon className=\"icon\" />\n                      <span>{data.Address || data.City}</span>\n                    </div>\n                  </div>\n                ))}\n              {!isLoading && !searchResult.length && (\n                <div className=\"no-data-container\">\n                  <img className=\"icon\" src={noDataIcon} />\n                  <p className=\"no-data-text\">\n                    目前查無資料\n                    <br />\n                    請重新搜尋\n                  </p>\n                </div>\n              )}\n            </div> */}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SearchResult;\n","import ViewDetail from \"./ViewDetail\";\n\nexport default ViewDetail;\n","import React, { useLayoutEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport \"../assets/normalize.css\";\nimport './style.scss';\n\nimport { TopNavigation } from \"./Common/TopNavigation\";\nimport { Footer } from \"./Common/Footer\";\nimport { requesScenicSpot } from \"../controller/apiManager\";\nimport Homepage from \"../Router/Homepage/index\";\nimport SearchResult from \"../Router/SearchResult/index\";\nimport ViewDetail from \"../Router/ViewDetail/index\";\n// import ScrollToTop from \"./ScrollToTop\";\n\n// export const basename = process.env.isProd ? \"/F2E-2021_trip\" : \"/\";\n// console.log(basename);\n\nconst App = () => {\n  return (\n    <>\n      <Router>\n        {/* <ScrollToTop /> */}\n        <TopNavigation />\n        <Switch>\n          <Route exact path=\"/F2E-2021-trip/\" component={Homepage} />\n          <Route path={`/F2E-2021-trip/:searchKind/search-result`} component={SearchResult} />\n          <Route path={`/F2E-2021-trip/:searchKind/view/:id`} component={ViewDetail} />\n        </Switch>\n        <Footer />\n      </Router>\n    </>\n  );\n};\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Component/App';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}